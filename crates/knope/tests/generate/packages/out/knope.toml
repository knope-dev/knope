[package]
versioned_files = ["Cargo.toml", "package.json", "pyproject.toml"]

[[workflows]]
name = "release"
help_text = "Prepare and create a new release (update changelog, bump version, create release)"

[[workflows.steps]]
type = "PrepareRelease"

[[workflows.steps]]
type = "Command"
command = 'git commit -m "chore: prepare release $version"'

[[workflows.steps]]
type = "Release"

[[workflows.steps]]
type = "Command"
command = "git push"

[[workflows.steps]]
type = "Command"
command = "git push --tags"

[[workflows]]
name = "document-change"
help_text = "Create a new change file to be included in the next release"

[[workflows.steps]]
type = "CreateChangeFile"

[[workflows]]
name = "get-version"
help_text = "Get the current version of the project"

[[workflows.steps]]
type = "Command"
command = 'echo "$version"'
